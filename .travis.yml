---
language: shell
os: linux
dist: focal

before_install:
  # install brew with profile (we will use python3 in installation section)
  - ./start.sh brew -p
  - ./start.sh env
  - . ~/.profile
install:
  - yes "Y" | ./install.sh -y
  # vim linter
  - pip3 install vim-vint
script:
  - vint --enable-neovim ./nvim/init.vim ./nvim/coc.vim
  - vint ./vim/vimrc
  - test $(readlink -f ~/.zshrc) = $(pwd)/zsh/zshrc
  - test $(readlink -f ~/.bashrc) = $(pwd)/conf/bashrc
  - bash -c hash brew
  - bash -c hash nvim
  - zsh -c hash brew
  - zsh -c hash nvim
